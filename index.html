
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tu TiÃªn: MÃ´n PhÃ¡i & Ká»¹ NÄƒng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #000;
      color: #fff;
    }
    .screen {
      display: none;
      padding: 20px;
      text-align: center;
    }
    .active {
      display: block;
    }
    #map {
      background: url('https://i.imgur.com/1qOTvGJ.jpg') no-repeat center center;
      background-size: cover;
      height: 70vh;
      position: relative;
    }
    .zone {
      position: absolute;
      border: 2px solid #ffd700;
      border-radius: 10px;
      padding: 10px;
      background-color: rgba(0,0,0,0.5);
      cursor: pointer;
      color: white;
    }
    #fightLog {
      margin-top: 20px;
      color: #00ffcc;
      font-weight: bold;
    }
    .btn {
      padding: 10px 20px;
      background-color: #4CAF50;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      cursor: pointer;
      margin: 10px;
    }
    .skill-btn {
      background-color: #2196F3;
    }
    .monster {
      font-size: 32px;
      animation: shake 0.4s ease-in-out infinite alternate;
    }
    @keyframes shake {
      from { transform: translateX(-3px); }
      to { transform: translateX(3px); }
    }
    select {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
    }
  </style>

<audio id="swordSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_327894c3b8.mp3"></audio>
<audio id="fireballSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_66b7b3b3f7.mp3"></audio>
<audio id="punchSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_aaddb28945.mp3"></audio>
</head>
<body>

<div id="startScreen" class="screen active">
  <h1>ğŸŒŒ Tu TiÃªn: Lá»±a Chá»n MÃ´n PhÃ¡i ğŸŒŒ</h1>
  <p>Nháº­p tÃªn nhÃ¢n váº­t:</p>
  <input type="text" id="charName" placeholder="TÃªn Ä‘áº¡o há»¯u..." /><br><br>
  <p>Chá»n mÃ´n phÃ¡i:</p>
  <select id="charClass">
    <option value="Kiáº¿m Tu">âš”ï¸ Kiáº¿m Tu</option>
    <option value="PhÃ¡p Tu">ğŸ”® PhÃ¡p Tu</option>
    <option value="Thá»ƒ Tu">ğŸ’ª Thá»ƒ Tu</option>
  </select><br><br>
  <button class="btn" onclick="createCharacter()">Báº¯t Ä‘áº§u</button>
</div>

<div id="mapScreen" class="screen">
  <h2>ğŸ‘¤ <span id="playerName"></span> - <span id="playerClass"></span></h2>
  
  <div id="map" style="position:relative;">
    <img src="https://i.imgur.com/1qOTvGJ.jpg" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:0;" />
    <img src="https://i.imgur.com/7hD2gtr.png" id="playerSprite" style="position:absolute; top:45%; left:35%; width:60px; z-index:1;" />

    <div class="zone" style="top: 20%; left: 10%;" onclick="enterZone('Rá»«ng Linh ThÃº')">Rá»«ng Linh ThÃº</div>
    <div class="zone" style="top: 50%; left: 40%;" onclick="enterZone('Äá»™ng BÄƒng Tinh')">Äá»™ng BÄƒng Tinh</div>
    <div class="zone" style="top: 70%; left: 75%;" onclick="enterZone('Äá»‰nh HÆ° KhÃ´ng')">Äá»‰nh HÆ° KhÃ´ng</div>
  </div>

  <div>
    <h3>Ká»¹ nÄƒng mÃ´n phÃ¡i:</h3>
    <button class="btn skill-btn" onclick="useSkill()">âœ¨ Thi triá»ƒn chiÃªu thá»©c</button>
  </div>

  
  <div style="margin-top: 20px;">
    <div style="width: 80%; margin: 10px auto; background: #444; border-radius: 10px; height: 20px;">
      <div id="hpBar" style="height: 100%; background: red; width: 100%; border-radius: 10px;"></div>
    </div>
    <p>â¤ï¸ HP: <span id="hp">100</span>/100</p>
    <p>â­ EXP: <span id="exp">0</span> / <span id="expMax">100</span></p>
  </div>
  <div id="fightLog"></div>

</div>

<script>
  let currentClass = "Kiáº¿m Tu";

  function createCharacter() {
    const name = document.getElementById('charName').value.trim();
    const chosenClass = document.getElementById('charClass').value;
    if (!name) {
      alert("HÃ£y nháº­p tÃªn nhÃ¢n váº­t!");
      return;
    }
    localStorage.setItem("tu_tien_char", name);
    localStorage.setItem("tu_tien_class", chosenClass);
    currentClass = chosenClass;
    document.getElementById('playerName').innerText = name;
    document.getElementById('playerClass').innerText = chosenClass;
    showScreen('mapScreen');
  }

  function enterZone(zoneName) {
    const log = document.getElementById("fightLog");
    log.innerHTML = `ğŸ‘¾ Báº¡n tiáº¿n vÃ o <b>${zoneName}</b>... Má»™t con quÃ¡i váº­t xuáº¥t hiá»‡n!<br><br>
      <div class='monster'>ğŸ’¢ QuÃ¡i váº­t gáº§m lÃªn thÃ¡ch thá»©c!</div>`;
  }

  function useSkill() {
    const log = document.getElementById("fightLog");
    let skillEffect = "";
    switch(currentClass) {
      case "Kiáº¿m Tu":
        document.getElementById("swordSound").play();

      case "Kiáº¿m Tu":
        skillEffect = "ğŸŒªï¸ Kiáº¿m áº£nh cuá»“ng vÅ© xoÃ¡y nÃ¡t quÃ¡i váº­t!";
        break;
      case "PhÃ¡p Tu":
        document.getElementById("fireballSound").play();
        skillEffect = "ğŸ”¥ Há»a cáº§u thiÃªn lÃ´i giÃ¡ng xuá»‘ng!";
        break;
      case "Thá»ƒ Tu":
        document.getElementById("punchSound").play();
        skillEffect = "ğŸ’¥ Má»™t cÃº Ä‘áº¥m trá»i giÃ¡ng nghiá»n nÃ¡t káº» Ä‘á»‹ch!";
        break;
      default:
        skillEffect = "âœ¨ ChiÃªu thá»©c bÃ­ áº©n Ä‘Æ°á»£c thi triá»ƒn!";
    }
    log.innerHTML += `<br><br>${skillEffect}<br>ğŸ‰ Káº» Ä‘á»‹ch bá»‹ tiÃªu diá»‡t!`;
  }

  function showScreen(id) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
  }

  window.onload = () => {
    const savedName = localStorage.getItem("tu_tien_char");
    const savedClass = localStorage.getItem("tu_tien_class");
    if (savedName && savedClass) {
      currentClass = savedClass;
      document.getElementById('playerName').innerText = savedName;
      document.getElementById('playerClass').innerText = savedClass;
      showScreen('mapScreen');
    }
  }

  let hp = 100;
  let exp = 0;
  let expMax = 100;

  function updateUI() {
    document.getElementById("hp").innerText = hp;
    document.getElementById("exp").innerText = exp;
    document.getElementById("expMax").innerText = expMax;
    document.getElementById("hpBar").style.width = hp + "%";
  }

  function enterZone(zoneName) {
    const log = document.getElementById("fightLog");
    log.innerHTML = `ğŸ‘¾ Báº¡n tiáº¿n vÃ o <b>${zoneName}</b>... Má»™t con quÃ¡i váº­t xuáº¥t hiá»‡n!<br><br>
      <div class='monster'>ğŸ’¢ QuÃ¡i váº­t gáº§m lÃªn thÃ¡ch thá»©c!</div>`;
    hp -= 10;
    if (hp < 0) hp = 0;
    updateUI();
    if (hp === 0) {
      log.innerHTML += "<br>â˜ ï¸ Báº¡n Ä‘Ã£ kiá»‡t sá»©c! Há»“i phá»¥c Ä‘á»ƒ tiáº¿p tá»¥c.";
    }
  }

  function useSkill() {
    if (hp <= 0) {
      alert("Báº¡n khÃ´ng cÃ²n Ä‘á»§ HP Ä‘á»ƒ chiáº¿n Ä‘áº¥u!");
      return;
    }
    const log = document.getElementById("fightLog");
    let skillEffect = "";
    switch(currentClass) {
      case "Kiáº¿m Tu":
        document.getElementById("swordSound").play();

      case "Kiáº¿m Tu":
        skillEffect = "ğŸŒªï¸ Kiáº¿m áº£nh cuá»“ng vÅ© xoÃ¡y nÃ¡t quÃ¡i váº­t!";
        break;
      case "PhÃ¡p Tu":
        document.getElementById("fireballSound").play();
        skillEffect = "ğŸ”¥ Há»a cáº§u thiÃªn lÃ´i giÃ¡ng xuá»‘ng!";
        break;
      case "Thá»ƒ Tu":
        document.getElementById("punchSound").play();
        skillEffect = "ğŸ’¥ Má»™t cÃº Ä‘áº¥m trá»i giÃ¡ng nghiá»n nÃ¡t káº» Ä‘á»‹ch!";
        break;
      default:
        skillEffect = "âœ¨ ChiÃªu thá»©c bÃ­ áº©n Ä‘Æ°á»£c thi triá»ƒn!";
    }
    log.innerHTML += `<br><br>${skillEffect}<br>ğŸ‰ Káº» Ä‘á»‹ch bá»‹ tiÃªu diá»‡t!`;

    exp += 25;
    if (exp >= expMax) {
      exp = exp - expMax;
      expMax += 25;
      log.innerHTML += "<br>ğŸ†™ Báº¡n Ä‘Ã£ tÄƒng cáº¥p!";
    }
    updateUI();
  }

  window.onload = () => {
    const savedName = localStorage.getItem("tu_tien_char");
    const savedClass = localStorage.getItem("tu_tien_class");
    if (savedName && savedClass) {
      currentClass = savedClass;
      document.getElementById('playerName').innerText = savedName;
      document.getElementById('playerClass').innerText = savedClass;
      showScreen('mapScreen');
    }
    updateUI();
  }
</script>


</body>
</html>
